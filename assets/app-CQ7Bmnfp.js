import{r as c,J as w,o as i,g as r,a as o,u as e,F as J,D as b,c as L,w as p,f as t,t as q,i as U,b as a,L as z,h as $,bb as k,a_ as E,d as H,e as D,ak as S}from"./app-BYx064nO.js";import{_ as R}from"./app-C5GVF480.js";import{T as P}from"./app-DR284fT9.js";import{T as K}from"./app-DNadG4GC.js";import{C as x}from"./app-IrmNFWm4.js";import{_ as F}from"./app-CryyhHYs.js";import{a as M,_ as j}from"./app-BuHt2kYS.js";import{_ as W}from"./app--BlRpVz_.js";const G=["value"],X={key:0,class:"label-group"},Y=["onClick"],Z=o("i",{class:"icon remove small"},null,-1),ee=[Z],ne={key:1,class:"ui fields inline"},te={class:"ui field"},le={class:"ui field"},oe=o("i",{class:"icon remove"},null,-1),se={class:"comment"},lt={__name:"HTTPCondURLExtension",props:["v-cond"],setup(C){const g=C,n=c(),{cond:v,extensions:s,isAdding:d,addingExt:l}=function(){let f={isRequest:!0,param:"${requestPathLowerExtension}",operator:"in",value:"[]"};g.vCond!=null&&g.vCond.param==f.param&&(f.value=g.vCond.value);let T=[];try{T=JSON.parse(f.value)}catch{T=[]}return{cond:c(f),extensions:c(T),isAdding:c(!1),addingExt:c("")}}(),m=function(){d.value=!d.value,d.value&&setTimeout(function(){n.value.focus()},100)},h=function(){d.value=!1,l.value=""},I=function(){l.value.length!=0&&(l.value.split(/[,;，；|]/).forEach(function(f){f=f.trim(),f.length>0&&(f[0]!="."&&(f="."+f),f=f.replace(/\s+/g,"").toLowerCase(),s.value.push(f))}),h())},N=function(f){s.value.$remove(f)};return w(s.value,function(){v.value.value=JSON.stringify(s.value)}),(f,T)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(v))},null,8,G),e(s).length>0?(i(),r("div",X,[(i(!0),r(J,null,b(e(s),(V,O)=>(i(),L(K,{outlined:""},{default:p(()=>[t(q(V)+" ",1),o("a",{href:"",title:"删除",onClick:U(A=>N(O),["prevent"])},ee,8,Y)]),_:2},1024))),256)),a(z)])):$("",!0),e(d)?(i(),r("div",ne,[o("div",te,[a(R,{type:"text",size:"30",maxlength:"200",modelValue:e(l),"onUpdate:modelValue":T[0]||(T[0]=V=>k(l)?l.value=V:null),ref_key:"addingExtRef",ref:n,placeholder:".xxx, .yyy",onKeyup:E(I,["enter"]),onKeypress:E(U(V=>1,["prevent"]),["enter"]),class:"w-full"},null,8,["modelValue","onKeypress"])]),o("div",le,[a(P,{secondary:"",size:"small",type:"button",onClick:U(I,["prevent"])},{default:p(()=>[t("确认")]),_:1}),o("a",{href:"",title:"取消",onClick:U(h,["prevent"])},[t(" "),oe])])])):$("",!0),H(o("div",null,[a(P,{secondary:"",size:"small",type:"button",onClick:T[1]||(T[1]=U(V=>m(),["prevent"]))},{default:p(()=>[t("+添加扩展名")]),_:1})],512),[[D,!e(d)]]),o("p",se,[t("扩展名需要包含点（.）符号，例如 "),a(x,null,{default:p(()=>[t(".jpg")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t(".png")]),_:1}),t(" 之类；多个扩展名用逗号分割。 ")])]))}},ae=["value"],ue={class:"comment"},ot={__name:"HTTPCondURLEqIndex",props:["v-cond"],setup(C,{expose:g}){const n=C,{cond:v}=function(){let d={isRequest:!0,param:"${requestPath}",operator:"eq",value:"/",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(d.value=n.vCond.value),{cond:c(d)}}();return g({changeCaseInsensitive:function(d){v.value.isCaseInsensitive=d}}),(d,l)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(v))},null,8,ae),a(R,{type:"text",modelValue:e(v).value,"onUpdate:modelValue":l[0]||(l[0]=m=>e(v).value=m),disabled:"disabled",style:{background:"#eee"},class:"w-full"},null,8,["modelValue"]),o("p",ue,[t("检查URL路径是为 "),a(x,null,{default:p(()=>[t("/")]),_:1}),t(" ，不需要带域名。 ")])]))}},ie=["value"],de=o("p",{class:"comment"},"支持全站所有URL。",-1),st={__name:"HTTPCondURLAll",props:["v-cond"],setup(C,{expose:g}){const n=C,{cond:v}=function(){let d={isRequest:!0,param:"${requestPath}",operator:"prefix",value:"/",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(d.value=n.vCond.value),{cond:c(d)}}();return g({changeCaseInsensitive:function(d){v.value.isCaseInsensitive=d}}),(d,l)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(v))},null,8,ie),a(R,{type:"text",modelValue:e(v).value,"onUpdate:modelValue":l[0]||(l[0]=m=>e(v).value=m),disabled:"disabled",style:{background:"#eee"},class:"w-full"},null,8,["modelValue"]),de]))}},re=["value"],ce={class:"comment"},at={__name:"HTTPCondURLPrefix",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${requestPath}",operator:"prefix",value:"",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,re),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",ce,[t("URL前缀，有此前缀的URL都将会被匹配，通常以 "),a(x,null,{default:p(()=>[t("/")]),_:1}),t(" 开头，比如 "),a(x,null,{default:p(()=>[t("/static")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t("/images")]),_:1}),t(" ，不需要带域名。 ")])]))}},ve=["value"],pe={class:"comment"},ut={__name:"HTTPCondURLEq",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${requestPath}",operator:"eq",value:"",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,ve),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",pe,[t("完整的URL路径，通常以 "),a(x,null,{default:p(()=>[t("/")]),_:1}),t(" 开头，比如 "),a(x,null,{default:p(()=>[t("/static/ui.js")]),_:1}),t(" ，不需要带域名。 ")])]))}},me=["value"],fe={class:"comment"},it={__name:"HTTPCondURLRegexp",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${requestPath}",operator:"regexp",value:"",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,me),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",fe,[t("匹配URL的正则表达式，比如 "),a(x,null,{default:p(()=>[t("^/static/(.*).js$")]),_:1}),t(" ，不需要带域名。 ")])]))}},_e=["value"],he={class:"comment"},dt={__name:"HTTPCondURLWildcardMatch",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${requestPath}",operator:"wildcard match",value:"",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,_e),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",he,[t("匹配URL的通配符，用星号（ "),a(x,null,{default:p(()=>[t("*")]),_:1}),t(" ）表示任意字符，比如（ "),a(x,null,{default:p(()=>[t("/images/*.png")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t("/static/*")]),_:1}),t(" ，不需要带域名。 ")])]))}},ye=["value"],ge={class:"comment"},rt={__name:"HTTPCondUserAgentRegexp",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${userAgent}",operator:"regexp",value:"",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,ye),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",ge,[t("匹配User-Agent的正则表达式，比如 "),a(x,null,{default:p(()=>[t("Android|iPhone")]),_:1}),t(" 。 ")])]))}},xe=o("td",{style:{width:"8em"}},"参数值",-1),Ce=["value"],$e={class:"ui field"},Ve={class:"ui field mt-2"},Re={class:"comment"},Ie=o("td",null,"操作符",-1),Te=["innerHTML"],ke=o("td",null,"对比值",-1),Ue={id:"variables-value-box"},Ne={key:0},Oe={class:"comment"},Se={key:1},we=o("p",{class:"comment"},"要对比的数字。",-1),qe={key:2},Ee=o("p",{class:"comment"},"参数值除以10的余数，在0-9之间。",-1),Pe={key:3},Je=o("p",{class:"comment"},"参数值除以100的余数，在0-99之间。",-1),be={key:4},Le={class:"ui fields inline"},Ae=o("div",{class:"ui field"},"除：",-1),Me={class:"ui field"},ze=o("div",{class:"ui field"},"余：",-1),He={class:"ui field"},De={key:5},Ke={key:0,class:"comment"},je={key:1,class:"comment"},Be={key:2,class:"comment"},Qe={key:3,class:"comment"},Fe={key:4,class:"comment"},We={key:5,class:"comment"},Ge={key:6},Xe={key:0,class:"comment"},Ye={key:1,class:"comment"},Ze={key:2,class:"comment"},en={key:3,class:"comment"},nn={key:7},tn={class:"ui fields inline"},ln={class:"ui field"},on=o("div",{class:"ui field"},"-",-1),sn={class:"ui field"},an={key:8},un=o("p",{class:"comment"},"要对比的IP。",-1),dn={key:9},rn=o("p",{class:"comment"},"参数中IP转换成整数后除以10的余数，在0-9之间。",-1),cn={key:10},vn=o("p",{class:"comment"},"参数中IP转换成整数后除以100的余数，在0-99之间。",-1),pn={key:0},mn=o("td",null,"不区分大小写",-1),fn=o("p",{class:"comment"},"选中后表示对比时忽略参数值的大小写。",-1),ct={__name:"HTTPCondParams",props:["v-cond"],setup(C){const g=C,{cond:n,operators:v,operator:s,operatorDescription:d,variables:l,variable:m,stringValue:h,numberValue:I,modDivValue:N,modRemValue:f,stringValues:T,versionRangeMinValue:V,versionRangeMaxValue:O}=function(){let y={isRequest:!0,param:"",operator:window.REQUEST_COND_OPERATORS[0].op,value:"",isCaseInsensitive:!1};return g.vCond!=null&&(y=g.vCond),{cond:c(y),operators:c(window.REQUEST_COND_OPERATORS),operator:c(window.REQUEST_COND_OPERATORS[0].op),operatorDescription:c(window.REQUEST_COND_OPERATORS[0].description),variables:c(window.REQUEST_VARIABLES),variable:c(""),stringValue:c(""),numberValue:c(""),modDivValue:c(""),modRemValue:c(""),stringValues:c([]),versionRangeMinValue:c(""),versionRangeMaxValue:c("")}}(),A=function(){let y=n.value.param;y==null&&(y=""),n.value.param=y+m.value},B=function(){v.value.forEach(function(u){u.op==s.value&&(d.value=u.description)}),n.value.operator=s.value;let y=document.getElementById("variables-value-box");y!=null&&setTimeout(function(){let u=y.getElementsByTagName("INPUT");u.length>0&&u[0].focus()},100)},Q=function(y){T.value=y,n.value.value=JSON.stringify(y)};return w(h,function(y){n.value.value=y}),w(I,function(y){n.value.value=y}),w(N,function(y){if(y.length==0)return;let u=parseInt(y);isNaN(u)&&(u=1),N.value=u,n.value.value=u+","+f.value}),w(f,function(y){if(y.length==0)return;let u=parseInt(y);isNaN(u)&&(u=0),f.value=u,n.value.value=N.value+","+u}),w(V,function(y){n.value.value=V.value+","+O.value}),w(O,function(y){n.value.value=V.value+","+O.value}),S(()=>{let y=g.vCond;if(y!=null){if(s.value=y.operator,["regexp","not regexp","eq","not","prefix","suffix","contains","not contains","eq ip","gt ip","gte ip","lt ip","lte ip","ip range"].$contains(y.operator)){h.value=y.value;return}if(["eq int","eq float","gt","gte","lt","lte","mod 10","ip mod 10","mod 100","ip mod 100"].$contains(y.operator)){I.value=y.value;return}if(["mod","ip mod"].$contains(y.operator)){let u=y.value.split(",");N.value=u[0],u.length>1&&(f.value=u[1]);return}if(["in","not in","file ext","mime type"].$contains(y.operator)){try{let u=JSON.parse(y.value);u!=null&&u instanceof Array&&u.forEach(function(_){T.value.push(_)})}catch{}return}if(["version range"].$contains(y.operator)){let u=y.value.split(",");V.value=u[0],u.length>1&&(O.value=u[1]);return}}}),(y,u)=>(i(),r("tbody",null,[o("tr",null,[xe,o("td",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(n))},null,8,Ce),o("div",null,[o("div",$e,[a(R,{type:"text",placeholder:"\\${xxx}",modelValue:e(n).param,"onUpdate:modelValue":u[0]||(u[0]=_=>e(n).param=_),class:"w-full"},null,8,["modelValue"])]),o("div",Ve,[a(j,{modelValue:e(m),"onUpdate:modelValue":u[1]||(u[1]=_=>k(m)?m.value=_:null),onChange:A},{default:p(()=>[a(M,{value:""},{default:p(()=>[t("[常用参数]")]),_:1}),(i(!0),r(J,null,b(e(l),_=>(i(),L(M,{value:_.code},{default:p(()=>[t(q(_.code)+" - "+q(_.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])]),o("p",Re,[t("其中可以使用变量，类似于 "),a(x,null,{default:p(()=>[t("${requestPath}")]),_:1}),t(" ，也可以是多个变量的组合。 ")])])]),o("tr",null,[Ie,o("td",null,[o("div",null,[a(j,{modelValue:e(s),"onUpdate:modelValue":u[2]||(u[2]=_=>k(s)?s.value=_:null),onChange:B},{default:p(()=>[(i(!0),r(J,null,b(e(v),_=>(i(),L(M,{value:_.op},{default:p(()=>[t(q(_.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),o("p",{class:"comment",innerHTML:e(d)},null,8,Te)])])]),H(o("tr",null,[ke,o("td",Ue,[["regexp","not regexp"].$contains(e(n).operator)?(i(),r("div",Ne,[a(R,{type:"text",modelValue:e(h),"onUpdate:modelValue":u[3]||(u[3]=_=>k(h)?h.value=_:null),class:"w-full"},null,8,["modelValue"]),o("p",Oe,[t("要匹配的正则表达式，比如 "),a(x,null,{default:p(()=>[t("^/static/(.+).js")]),_:1}),t(" 。 ")])])):$("",!0),["eq int","eq float","gt","gte","lt","lte"].$contains(e(n).operator)?(i(),r("div",Se,[a(R,{type:"text",maxlength:"11",size:"11",style:{width:"5em"},modelValue:e(I),"onUpdate:modelValue":u[4]||(u[4]=_=>k(I)?I.value=_:null)},null,8,["modelValue"]),we])):$("",!0),["mod 10"].$contains(e(n).operator)?(i(),r("div",qe,[a(R,{type:"text",maxlength:"11",size:"11",style:{width:"5em"},modelValue:e(I),"onUpdate:modelValue":u[5]||(u[5]=_=>k(I)?I.value=_:null)},null,8,["modelValue"]),Ee])):$("",!0),["mod 100"].$contains(e(n).operator)?(i(),r("div",Pe,[a(R,{type:"text",maxlength:"11",size:"11",style:{width:"5em"},modelValue:e(I),"onUpdate:modelValue":u[6]||(u[6]=_=>k(I)?I.value=_:null)},null,8,["modelValue"]),Je])):$("",!0),["mod","ip mod"].$contains(e(n).operator)?(i(),r("div",be,[o("div",Le,[Ae,o("div",Me,[a(R,{type:"text",maxlength:"11",size:"11",style:{width:"5em"},modelValue:e(N),"onUpdate:modelValue":u[7]||(u[7]=_=>k(N)?N.value=_:null),placeholder:"除数"},null,8,["modelValue"])]),ze,o("div",He,[a(R,{type:"text",maxlength:"11",size:"11",style:{width:"5em"},modelValue:e(f),"onUpdate:modelValue":u[8]||(u[8]=_=>k(f)?f.value=_:null),placeholder:"余数"},null,8,["modelValue"])])])])):$("",!0),["eq","not","prefix","suffix","contains","not contains"].$contains(e(n).operator)?(i(),r("div",De,[a(R,{type:"text",modelValue:e(h),"onUpdate:modelValue":u[9]||(u[9]=_=>k(h)?h.value=_:null),class:"w-full"},null,8,["modelValue"]),e(n).operator=="eq"?(i(),r("p",Ke,"和参数值一致的字符串。")):$("",!0),e(n).operator=="not"?(i(),r("p",je,"和参数值不一致的字符串。")):$("",!0),e(n).operator=="prefix"?(i(),r("p",Be,"参数值的前缀。")):$("",!0),e(n).operator=="suffix"?(i(),r("p",Qe,"参数值的后缀为此字符串。")):$("",!0),e(n).operator=="contains"?(i(),r("p",Fe,"参数值包含此字符串。")):$("",!0),e(n).operator=="not contains"?(i(),r("p",We,"参数值不包含此字符串。")):$("",!0)])):$("",!0),["in","not in","file ext","mime type"].$contains(e(n).operator)?(i(),r("div",Ge,[a(F,{onChange:Q,values:e(T),size:"15"},null,8,["values"]),e(n).operator=="in"?(i(),r("p",Xe,"添加参数值列表。")):$("",!0),e(n).operator=="not in"?(i(),r("p",Ye,"添加参数值列表。")):$("",!0),e(n).operator=="file ext"?(i(),r("p",Ze,[t("添加扩展名列表，比如 "),a(x,null,{default:p(()=>[t("png")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t("html")]),_:1}),t(" ，不包括点。 ")])):$("",!0),e(n).operator=="mime type"?(i(),r("p",en,[t("添加MimeType列表，类似于 "),a(x,null,{default:p(()=>[t("text/html")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t("image/*")]),_:1}),t(" 。 ")])):$("",!0)])):$("",!0),["version range"].$contains(e(n).operator)?(i(),r("div",nn,[o("div",tn,[o("div",ln,[a(R,{type:"text",modelValue:e(V),"onUpdate:modelValue":u[10]||(u[10]=_=>k(V)?V.value=_:null),maxlength:"200",placeholder:"最小版本",style:{width:"10em"}},null,8,["modelValue"])]),on,o("div",sn,[a(R,{type:"text",modelValue:e(O),"onUpdate:modelValue":u[11]||(u[11]=_=>k(O)?O.value=_:null),maxlength:"200",placeholder:"最大版本",style:{width:"10em"}},null,8,["modelValue"])])])])):$("",!0),["eq ip","gt ip","gte ip","lt ip","lte ip","ip range"].$contains(e(n).operator)?(i(),r("div",an,[a(R,{type:"text",style:{width:"10em"},modelValue:e(h),"onUpdate:modelValue":u[12]||(u[12]=_=>k(h)?h.value=_:null),placeholder:"x.x.x.x"},null,8,["modelValue"]),un])):$("",!0),["ip mod 10"].$contains(e(n).operator)?(i(),r("div",dn,[a(R,{type:"text",maxlength:"11",size:"11",style:{width:"5em"},modelValue:e(I),"onUpdate:modelValue":u[13]||(u[13]=_=>k(I)?I.value=_:null)},null,8,["modelValue"]),rn])):$("",!0),["ip mod 100"].$contains(e(n).operator)?(i(),r("div",cn,[a(R,{type:"text",maxlength:"11",size:"11",style:{width:"5em"},modelValue:e(I),"onUpdate:modelValue":u[14]||(u[14]=_=>k(I)?I.value=_:null)},null,8,["modelValue"]),vn])):$("",!0)])],512),[[D,!["file exist","file not exist"].$contains(e(n).operator)]]),["regexp","not regexp","eq","not","prefix","suffix","contains","not contains","in","not in"].$contains(e(n).operator)?(i(),r("tr",pn,[mn,o("td",null,[a(W,{name:"condIsCaseInsensitive",modelValue:e(n).isCaseInsensitive,"onUpdate:modelValue":u[15]||(u[15]=_=>e(n).isCaseInsensitive=_)},null,8,["modelValue"]),fn])])):$("",!0)]))}},_n=["value"],hn={key:0,class:"label-group"},yn=["onClick"],gn=o("i",{class:"icon remove"},null,-1),xn=[gn],Cn={key:1,class:"ui fields inline"},$n={class:"ui field"},Vn={class:"ui field"},Rn=o("i",{class:"icon remove"},null,-1),In=[Rn],Tn={style:{"margin-top":"1em"}},kn={class:"comment"},vt={__name:"HTTPCondURLNotExtension",props:["v-cond"],setup(C){const g=C,n=c(),{cond:v,extensions:s,isAdding:d,addingExt:l}=function(){let f={isRequest:!0,param:"${requestPathLowerExtension}",operator:"not in",value:"[]"};g.vCond!=null&&g.vCond.param==f.param&&(f.value=g.vCond.value);let T=[];try{T=JSON.parse(f.value)}catch{}return{cond:c(f),extensions:c(T),isAdding:c(!1),addingExt:c("")}}(),m=function(){d.value=!d.value,d.value&&setTimeout(function(){n.value.focus()},100)},h=function(){d.value=!1,l.value=""},I=function(){l.value.length!=0&&(l.value[0]!="."&&(l.value="."+l.value),l.value=l.value.replace(/\s+/g,"").toLowerCase(),s.value.push(l.value),h())},N=function(f){s.value.$remove(f)};return(f,T)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(v))},null,8,_n),e(s).length>0?(i(),r("div",hn,[(i(!0),r(J,null,b(e(s),(V,O)=>(i(),L(K,{outlined:""},{default:p(()=>[t(q(V)+" ",1),o("a",{href:"",title:"删除",onClick:U(A=>N(O),["prevent"])},xn,8,yn)]),_:2},1024))),256)),a(z)])):$("",!0),e(d)?(i(),r("div",Cn,[o("div",$n,[a(R,{type:"text",size:"6",maxlength:"100",modelValue:e(l),"onUpdate:modelValue":T[0]||(T[0]=V=>k(l)?l.value=V:null),ref_key:"addingExtRef",ref:n,placeholder:".xxx",onKeyup:E(I,["enter"]),onKeypress:E(U(V=>1,["prevent"]),["enter"]),class:"w-full"},null,8,["modelValue","onKeypress"])]),o("div",Vn,[a(P,{secondary:"",size:"small",type:"button",onClick:U(I,["prevent"])},{default:p(()=>[t("确认")]),_:1}),o("a",{href:"",title:"取消",onClick:U(h,["prevent"])},In)])])):$("",!0),H(o("div",Tn,[a(P,{secondary:"",size:"small",type:"button",onClick:T[1]||(T[1]=U(V=>m(),["prevent"]))},{default:p(()=>[t("+添加扩展名")]),_:1})],512),[[D,!e(d)]]),o("p",kn,[t("扩展名需要包含点（.）符号，例如 "),a(x,null,{default:p(()=>[t(".jpg")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t(".png")]),_:1}),t(" 之类。 ")])]))}},Un=["value"],Nn={class:"comment"},pt={__name:"HTTPCondURLNotPrefix",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${requestPath}",operator:"prefix",value:"",isReverse:!0,isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,Un),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",Nn,[t("要排除的URL前缀，有此前缀的URL都将会被匹配，通常以 "),a(x,null,{default:p(()=>[t("/")]),_:1}),t(" 开头，比如 "),a(x,null,{default:p(()=>[t("/static")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t("/images")]),_:1}),t(" ，不需要带域名。 ")])]))}},On=["value"],Sn={class:"comment"},mt={__name:"HTTPCondURLNotEq",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${requestPath}",operator:"eq",value:"",isReverse:!0,isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,On),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",Sn,[t("要排除的完整的URL路径，通常以 "),a(x,null,{default:p(()=>[t("/")]),_:1}),t(" 开头，比如 "),a(x,null,{default:p(()=>[t("/static/ui.js")]),_:1}),t(" ，不需要带域名。 ")])]))}},wn=["value"],qn={class:"comment"},En=o("strong",null,"不要",-1),ft={__name:"HTTPCondURLNotRegexp",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${requestPath}",operator:"not regexp",value:"",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,wn),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",qn,[En,t("匹配URL的正则表达式，意即只要匹配成功则排除此条件，比如 "),a(x,null,{default:p(()=>[t("^/static/(.*).js$")]),_:1}),t(" ，不需要带域名。 ")])]))}},Pn=["value"],Jn={key:0,class:"label-group"},bn=["onClick"],Ln=o("i",{class:"icon remove"},null,-1),An=[Ln],Mn={key:1,class:"ui fields inline"},zn={class:"ui field"},Hn={class:"ui field"},Dn=o("i",{class:"icon remove"},null,-1),Kn=[Dn],jn={style:{"margin-top":"1em"}},Bn={class:"comment"},_t={__name:"HTTPCondMimeType",props:["v-cond"],setup(C){const g=C,n=c(),{cond:v,mimeTypes:s,isAdding:d,addingMimeType:l}=function(){let f={isRequest:!1,param:"${response.contentType}",operator:"mime type",value:"[]"};return g.vCond!=null&&g.vCond.param==f.param&&(f.value=g.vCond.value),{cond:c(f),mimeTypes:c(JSON.parse(f.value)),isAdding:c(!1),addingMimeType:c("")}}(),m=function(){d.value=!d.value,d.value&&setTimeout(function(){n.value.focus()},100)},h=function(){d.value=!1,l.value=""},I=function(){l.value.length!=0&&(l.value=l.value.replace(/\s+/g,""),s.value.push(l.value),h())},N=function(f){s.value.$remove(f)};return w(s.value,function(){v.value.value=JSON.stringify(s.value)}),(f,T)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(v))},null,8,Pn),e(s).length>0?(i(),r("div",Jn,[(i(!0),r(J,null,b(e(s),(V,O)=>(i(),L(K,{outlined:""},{default:p(()=>[t(q(V)+"  ",1),o("a",{href:"",title:"删除",onClick:U(A=>N(O),["prevent"])},An,8,bn)]),_:2},1024))),256)),a(z)])):$("",!0),e(d)?(i(),r("div",Mn,[o("div",zn,[a(R,{type:"text",size:"16",maxlength:"100",modelValue:e(l),"onUpdate:modelValue":T[0]||(T[0]=V=>k(l)?l.value=V:null),ref_key:"addingMimeTypeRef",ref:n,placeholder:"类似于image/png",onKeyup:E(I,["enter"]),onKeypress:E(U(V=>1,["prevent"]),["enter"])},null,8,["modelValue","onKeypress"])]),o("div",Hn,[a(P,{secondary:"",size:"small",type:"button",onClick:U(I,["prevent"])},{default:p(()=>[t("确认")]),_:1}),o("a",{href:"",title:"取消",onClick:U(h,["prevent"])},Kn)])])):$("",!0),o("div",jn,[a(P,{secondary:"",size:"small",type:"button",onClick:T[1]||(T[1]=U(V=>m(),["prevent"]))},{default:p(()=>[t("+添加MimeType")]),_:1})]),o("p",Bn,[t("服务器返回的内容的MimeType，比如 "),a(x,null,{default:p(()=>[t("text/html")]),_:1}),t(" 、 "),a(x,null,{default:p(()=>[t("image/*")]),_:1}),t(" 等。 ")])]))}},Qn=["value"],Fn={class:"comment"},ht={__name:"HTTPCondUserAgentNotRegexp",props:["v-cond"],setup(C,{expose:g}){const n=C,v=c(),{cond:s}=function(){let l={isRequest:!0,param:"${userAgent}",operator:"not regexp",value:"",isCaseInsensitive:!1};return n.vCond!=null&&typeof n.vCond.value=="string"&&(l.value=n.vCond.value),{cond:c(l)}}(),d=function(l){s.value.isCaseInsensitive=l};return S(()=>{v.value.focus()}),g({changeCaseInsensitive:d}),(l,m)=>(i(),r("div",null,[o("input",{type:"hidden",name:"condJSON",value:JSON.stringify(e(s))},null,8,Qn),a(R,{type:"text",modelValue:e(s).value,"onUpdate:modelValue":m[0]||(m[0]=h=>e(s).value=h),ref_key:"valueInputRef",ref:v,class:"w-full"},null,8,["modelValue"]),o("p",Fn,[t("匹配User-Agent的正则表达式，比如 "),a(x,null,{default:p(()=>[t("Android|iPhone")]),_:1}),t(" ，如果匹配，则排除此条件。 ")])]))}};export{_t as _,ht as a,ft as b,mt as c,pt as d,vt as e,ct as f,rt as g,dt as h,it as i,ut as j,at as k,st as l,ot as m,lt as n};
