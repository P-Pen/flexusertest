import{P as V}from"./app-BnDFQ2zy.js";import{i as T,c as P}from"./app-DISTCiac.js";import{_ as w}from"./app-57xpzLDR.js";import{T as f}from"./app-2Kq8vdz-.js";import{_}from"./app-C5GVF480.js";import{T as m,a as h}from"./app-DRGtcCVV.js";import{_ as x,a as y}from"./app-BuHt2kYS.js";import{_ as $}from"./app-_N2IGwgj.js";import{D as b}from"./app-D0jdtzyy.js";import{o,c as k,w as a,b as n,a as e,u as l,g as s,t as c,f as p,h as d}from"./app-BYx064nO.js";import"./app-GoR2fTOd.js";import"./app-DR284fT9.js";import"./app-kBNY2ZLt.js";import"./app-Cqxz9tud.js";import"./app-cRxw2ZDj.js";import"./app-DOaxShSm.js";import"./app-BTsdkGUZ.js";import"./app-DYkSpHuE.js";import"./app-DyIe33QU.js";import"./app-51hQc1Cd.js";import"./app-CqAVEB_b.js";import"./app-CK9Tk_hc.js";import"./app-DoRtcMJm.js";import"./app-aIb4ksxL.js";function N(){T(this),this.period="monthly",this.fee=this.plan.monthlyPrice,this.countMonths=1,this.countSeasons=1,this.countYears=1,this.$delay(function(){this.$watch("period",function(r){switch(this.countMonths=1,this.countSeasons=1,this.countYears=1,r){case"monthly":this.fee=this.countMonths*this.plan.monthlyPrice;break;case"seasonally":this.fee=this.countSeasons*this.plan.seasonallyPrice;break;case"yearly":this.fee=this.countYears*this.plan.yearlyPrice;break}}),this.$watch("countMonths",function(r){let t=parseInt(r);(isNaN(t)||t<1)&&(t=1),this.fee=this.plan.monthlyPrice*t}),this.$watch("countSeasons",function(r){let t=parseInt(r);(isNaN(t)||t<1)&&(t=1),this.fee=this.plan.seasonallyPrice*t}),this.$watch("countYears",function(r){let t=parseInt(r);(isNaN(t)||t<1)&&(t=1),this.fee=this.plan.yearlyPrice*t})})}const S=e("header",null,"续费套餐",-1),v=["value"],D=e("td",{class:"title"},"账户余额",-1),I={key:0},M={key:1},Y=e("td",null,"套餐 *",-1),B={key:0,class:"comment"},U={key:0},g={key:1},C={key:0},A=e("td",null,"周期 *",-1),G={key:0},E=e("td",null,"月数 *",-1),L=e("span",null,"月",-1),R={key:1},j=e("td",null,"季度数 *",-1),q=e("span",null,"季度",-1),z={key:2},F=e("td",null,"年数 *",-1),H=e("span",null,"年",-1),J=e("td",null,"预计费用",-1),K={key:0},O={key:1},Q={key:1},W=e("td",null,"结束日期",-1),X=e("tr",null,[e("td",null,"预计费用"),e("td",null,"月结")],-1),Z={key:2},tt=e("td",null,"结束日期",-1),et=e("tr",null,[e("td",null,"预计费用"),e("td",null,"月结")],-1),lt={key:1},nt=e("span",{class:"red"},"当前套餐已停售，无法续费。",-1),ot=[nt],It={__name:"renewPopup",setup(r){const t=P(new N);return(st,u)=>(o(),k(V,null,{default:a(()=>[S,n($,{action:"$",onSuccess:l(t).success},{default:a(()=>[e("input",{type:"hidden",name:"userPlanId",value:l(t).userPlanId},null,8,v),n(b,null,{default:a(()=>[e("tbody",null,[e("tr",null,[D,e("td",null,[l(t).userAccount!=null?(o(),s("span",I,c(l(t).userAccount.total)+"元",1)):(o(),s("span",M,"0元"))])]),e("tr",null,[Y,e("td",null,[p(c(l(t).plan.name)+" ",1),l(t).plan!=null?(o(),s("p",B,[l(t).plan.priceType=="period"?(o(),s("span",U,"按时间周期付费，"+c(l(t).plan.monthlyPrice)+"元/月，"+c(l(t).plan.seasonallyPrice)+"元/季度，"+c(l(t).plan.yearlyPrice)+"元/年。",1)):d("",!0),l(t).plan.priceType=="traffic"?(o(),s("span",g,"按流量付费。")):d("",!0)])):d("",!0)])])]),l(t).plan!=null&&l(t).plan.priceType=="period"?(o(),s("tbody",C,[e("tr",null,[A,e("td",null,[n(x,{name:"period",modelValue:l(t).period,"onUpdate:modelValue":u[0]||(u[0]=i=>l(t).period=i)},{default:a(()=>[n(y,{value:"monthly"},{default:a(()=>[p("按月")]),_:1}),n(y,{value:"seasonally"},{default:a(()=>[p("按季度")]),_:1}),n(y,{value:"yearly"},{default:a(()=>[p("按年")]),_:1})]),_:1},8,["modelValue"])])]),l(t).period=="monthly"?(o(),s("tr",G,[E,e("td",null,[n(m,null,{default:a(()=>[n(_,{name:"countMonths",value:"1",style:{width:"5em"},maxlength:"4",modelValue:l(t).countMonths,"onUpdate:modelValue":u[1]||(u[1]=i=>l(t).countMonths=i)},null,8,["modelValue"]),n(h,null,{default:a(()=>[L]),_:1})]),_:1})])])):d("",!0),l(t).period=="seasonally"?(o(),s("tr",R,[j,e("td",null,[n(m,null,{default:a(()=>[n(_,{name:"countSeasons",value:"1",style:{width:"5em"},maxlength:"4",modelValue:l(t).countSeasons,"onUpdate:modelValue":u[2]||(u[2]=i=>l(t).countSeasons=i)},null,8,["modelValue"]),n(h,null,{default:a(()=>[q]),_:1})]),_:1})])])):d("",!0),l(t).period=="yearly"?(o(),s("tr",z,[F,e("td",null,[n(m,null,{default:a(()=>[n(_,{name:"countYears",value:"1",style:{width:"5em"},maxlength:"4",modelValue:l(t).countYears,"onUpdate:modelValue":u[3]||(u[3]=i=>l(t).countYears=i)},null,8,["modelValue"]),n(h,null,{default:a(()=>[H]),_:1})]),_:1})])])):d("",!0),e("tr",null,[J,e("td",null,[l(t).fee>0?(o(),s("span",K,c(l(t).fee)+"元",1)):(o(),s("span",O,"-"))])])])):d("",!0),l(t).plan!=null&&l(t).plan.priceType=="traffic"?(o(),s("tbody",Q,[e("tr",null,[W,e("td",null,[n(f,{name:"dayTo",modelValue:l(t).defaultDayTo,"onUpdate:modelValue":u[4]||(u[4]=i=>l(t).defaultDayTo=i)},null,8,["modelValue"])])]),X])):d("",!0),l(t).plan!=null&&l(t).plan.priceType=="bandwidth"?(o(),s("tbody",Z,[e("tr",null,[tt,e("td",null,[n(f,{name:"dayTo",modelValue:l(t).defaultDayTo,"onUpdate:modelValue":u[5]||(u[5]=i=>l(t).defaultDayTo=i)},null,8,["modelValue"])])]),et])):d("",!0)]),_:1}),l(t).plan.canBuy?(o(),k(w,{key:0})):d("",!0),l(t).plan.canBuy?d("",!0):(o(),s("div",lt,ot))]),_:1},8,["onSuccess"])]),_:1}))}};export{It as default};
