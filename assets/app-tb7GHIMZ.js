import{P as O}from"./app-BnDFQ2zy.js";import{i as B,c as P}from"./app-DISTCiac.js";import{_ as T}from"./app-57xpzLDR.js";import{_ as J}from"./app-_N2IGwgj.js";import{r as d,J as $,o as a,g as r,a as e,u as n,b as u,w as p,d as S,f,t as c,i as g,h as x,bb as D,e as k,c as R}from"./app-BYx064nO.js";import{_ as N}from"./app-C5GVF480.js";import{_ as G}from"./app--BlRpVz_.js";import{T as I,a as b}from"./app-DRGtcCVV.js";import{D as A}from"./app-D0jdtzyy.js";import"./app-GoR2fTOd.js";import"./app-DR284fT9.js";import"./app-DYkSpHuE.js";import"./app-tUtHmy3n.js";import"./app-CK9Tk_hc.js";function H(){B(this)}const L=["value"],M=e("td",{class:"title"},"启用当前记录健康检查",-1),j=e("td",null,"检测端口",-1),q={key:0,class:"grey"},z={style:{"margin-bottom":"0.5em"}},F=e("p",{class:"comment"},"通过尝试连接A/AAAA记录中的IP加此端口来确定当前记录是否健康。",-1),K=e("td",null,"超时时间",-1),Q={key:0,class:"grey"},W={style:{"margin-bottom":"0.5em"}},X=e("span",null,"秒",-1),Y=e("td",null,"默认连续上线次数",-1),Z={key:0,class:"grey"},tt={style:{"margin-bottom":"0.5em"}},et=e("span",null,"次",-1),nt={class:"comment"},ot={key:0},lt={key:1},st=e("td",null,"默认连续下线次数",-1),ut={key:0,class:"grey"},it={style:{"margin-bottom":"0.5em"}},at=e("span",null,"次",-1),rt={class:"comment"},dt={key:0},pt={key:1},ct=e("div",{class:"margin"},null,-1),mt={__name:"NSRecordHealthCheckConfigBox",props:["modelValue","v-parent-config"],setup(E){const i=E,{config:l,portString:m,timeoutSecondsString:_,countUpString:h,countDownString:y,portIsEditing:C,timeoutSecondsIsEditing:w,countUpIsEditing:V,countDownIsEditing:U,parentConfig:v}=function(){let o=i.modelValue;o==null&&(o={isOn:!1,port:0,timeoutSeconds:0,countUp:0,countDown:0});let t=i.vParentConfig;return{config:d(o),portString:d(o.port.toString()),timeoutSecondsString:d(o.timeoutSeconds.toString()),countUpString:d(o.countUp.toString()),countDownString:d(o.countDown.toString()),portIsEditing:d(o.port>0),timeoutSecondsIsEditing:d(o.timeoutSeconds>0),countUpIsEditing:d(o.countUp>0),countDownIsEditing:d(o.countDown>0),parentConfig:d(t)}}();return $(m,function(o){let t=parseInt(o.toString());isNaN(t)||t>65535||t<1?l.value.port=0:l.value.port=t}),$(_,function(o){let t=parseInt(o.toString());isNaN(t)||t>1e3||t<1?l.value.timeoutSeconds=0:l.value.timeoutSeconds=t}),$(h,function(o){let t=parseInt(o.toString());isNaN(t)||t>1e3||t<1?l.value.countUp=0:l.value.countUp=t}),$(y,function(o){let t=parseInt(o.toString());isNaN(t)||t>1e3||t<1?l.value.countDown=0:l.value.countDown=t}),(o,t)=>(a(),r("div",null,[e("input",{type:"hidden",name:"recordHealthCheckJSON",value:JSON.stringify(n(l))},null,8,L),u(A,null,{default:p(()=>[e("tbody",null,[e("tr",null,[M,e("td",null,[u(G,{modelValue:n(l).isOn,"onUpdate:modelValue":t[0]||(t[0]=s=>n(l).isOn=s)},null,8,["modelValue"])])])]),S(e("tbody",null,[e("tr",null,[j,e("td",null,[n(C)?x("",!0):(a(),r("span",q,[f(" 默认"+c(n(v).port)+"   ",1),e("a",{href:"",onClick:t[1]||(t[1]=g(s=>{C.value=!0,m.value=n(v).port},["prevent"]))},"[修改]")])),S(e("div",null,[e("div",z,[e("a",{href:"",onClick:t[2]||(t[2]=g(s=>{C.value=!1,m.value="0"},["prevent"]))},"[使用默认]")]),u(N,{type:"text",modelValue:n(m),"onUpdate:modelValue":t[3]||(t[3]=s=>D(m)?m.value=s:null),maxlength:"5",style:{width:"5em"}},null,8,["modelValue"]),F],512),[[k,n(C)]])])]),e("tr",null,[K,e("td",null,[n(w)?x("",!0):(a(),r("span",Q,[f(" 默认"+c(n(v).timeoutSeconds)+"秒   ",1),e("a",{href:"",onClick:t[4]||(t[4]=g(s=>{w.value=!0,_.value=n(v).timeoutSeconds},["prevent"]))},"[修改]")])),S(e("div",null,[e("div",W,[e("a",{href:"",onClick:t[5]||(t[5]=g(s=>{w.value=!1,_.value="0"},["prevent"]))},"[使用默认]")]),u(I,null,{default:p(()=>[u(N,{type:"text",style:{width:"4em"},modelValue:n(_),"onUpdate:modelValue":t[6]||(t[6]=s=>D(_)?_.value=s:null),maxlength:"3"},null,8,["modelValue"]),u(b,null,{default:p(()=>[X]),_:1})]),_:1})],512),[[k,n(w)]])])]),e("tr",null,[Y,e("td",null,[n(V)?x("",!0):(a(),r("span",Z,[f(" 默认"+c(n(v).countUp)+"次   ",1),e("a",{href:"",onClick:t[7]||(t[7]=g(s=>{V.value=!0,h.value=n(v).countUp},["prevent"]))},"[修改]")])),S(e("div",null,[e("div",tt,[e("a",{href:"",onClick:t[8]||(t[8]=g(s=>{V.value=!1,h.value="0"},["prevent"]))},"[使用默认]")]),u(I,null,{default:p(()=>[u(N,{type:"text",style:{width:"4em"},modelValue:n(h),"onUpdate:modelValue":t[9]||(t[9]=s=>D(h)?h.value=s:null),maxlength:"3"},null,8,["modelValue"]),u(b,null,{default:p(()=>[et]),_:1})]),_:1}),e("p",nt,[f("连续检测"),n(l).countUp>0?(a(),r("span",ot,c(n(l).countUp),1)):(a(),r("span",lt,"N")),f("次成功后，认为当前记录是在线的。 ")])],512),[[k,n(V)]])])]),e("tr",null,[st,e("td",null,[n(U)?x("",!0):(a(),r("span",ut,[f(" 默认"+c(n(v).countDown)+"次   ",1),e("a",{href:"",onClick:t[10]||(t[10]=g(s=>{U.value=!0,y.value=n(v).countDown},["prevent"]))},"[修改]")])),S(e("div",null,[e("div",it,[e("a",{href:"",onClick:t[11]||(t[11]=g(s=>{U.value=!1,y.value="0"},["prevent"]))},"[使用默认]")]),u(I,null,{default:p(()=>[u(N,{type:"text",style:{width:"4em"},modelValue:n(y),"onUpdate:modelValue":t[12]||(t[12]=s=>D(y)?y.value=s:null),maxlength:"3"},null,8,["modelValue"]),u(b,null,{default:p(()=>[at]),_:1})]),_:1}),e("p",rt,[f("连续检测"),n(l).countDown>0?(a(),r("span",dt,c(n(l).countDown),1)):(a(),r("span",pt,"N")),f("次失败后，认为当前记录是离线的。 ")])],512),[[k,n(U)]])])])],512),[[k,n(l).isOn]])]),_:1}),ct]))}},ft=e("header",null,"设置记录健康检查",-1),_t=["value"],vt=e("td",{class:"title"},"当前记录",-1),gt={key:0},ht={key:1,class:"disabled"},At={__name:"healthCheckPopup",setup(E){const i=P(new H);return(l,m)=>(a(),R(O,null,{default:p(()=>[ft,u(J,{action:"$",onSuccess:n(i).success},{default:p(()=>[e("input",{type:"hidden",name:"recordId",value:n(i).record.id},null,8,_t),u(A,null,{default:p(()=>[e("tbody",null,[e("tr",null,[vt,e("td",null,[n(i).record.name.length>0?(a(),r("span",gt,c(n(i).record.name),1)):(a(),r("span",ht,"[空]")),f("."+c(n(i).domain.name)+". "+c(n(i).record.type)+" "+c(n(i).record.value),1)])])])]),_:1}),u(mt,{modelValue:n(i).record.healthCheckConfig,"onUpdate:modelValue":m[0]||(m[0]=_=>n(i).record.healthCheckConfig=_),"v-parent-config":n(i).domain.healthCheckConfig},null,8,["modelValue","v-parent-config"]),u(T)]),_:1},8,["onSuccess"])]),_:1}))}};export{At as default};
