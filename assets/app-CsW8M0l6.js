import{o as m,g as c,a as t,b as e,f as d,w as u,h as p,F as K,D as w,c as y,u as s,t as S,d as x,e as f}from"./app-BYx064nO.js";import{P as $}from"./app-BnDFQ2zy.js";import{i as P,c as U}from"./app-DISTCiac.js";import{_ as r}from"./app-C5GVF480.js";import{C as V}from"./app-IrmNFWm4.js";import{a as g,_ as h}from"./app-BuHt2kYS.js";import{a as b,T as v}from"./app-DRGtcCVV.js";import{_ as I}from"./app-cTrE88AC.js";import{_ as T}from"./app-_N2IGwgj.js";import{_ as k}from"./app-1SA4suwN.js";import{_ as O}from"./app-Clyhl9p_.js";import{_ as A}from"./app-CbPWpFKs.js";import{_}from"./app--BlRpVz_.js";import{_ as E}from"./app-DfipPP5d.js";import{_ as C}from"./app-57xpzLDR.js";import{D}from"./app-D0jdtzyy.js";import"./app-GoR2fTOd.js";import"./app-DYkSpHuE.js";import"./app-DNadG4GC.js";import"./app-DPMEyUYH.js";import"./app-51hQc1Cd.js";import"./app-CqAVEB_b.js";import"./app-CK9Tk_hc.js";import"./app-Cqxz9tud.js";import"./app-DoRtcMJm.js";import"./app-aIb4ksxL.js";import"./app-DyIe33QU.js";import"./app-DR284fT9.js";import"./app-kBNY2ZLt.js";import"./app-TBcc1obG.js";import"./app-tUtHmy3n.js";function B(){P(this),this.addrError="",this.isOSS=this.origin!=null&&this.origin.protocol!=null&&this.origin.protocol.startsWith("oss:"),this.$delay(function(){this.checkPort()}),this.changeProtocol=function(){this.isOSS=this.origin.protocol.startsWith("oss:"),this.checkPort()},this.changeAddr=function(){this.serverType=="httpProxy"&&(this.origin.addr.startsWith("http://")?this.origin.protocol="http":this.origin.addr.startsWith("https://")&&(this.origin.protocol="https")),this.checkPort()},this.checkPort=function(){this.addrError="",this.origin.protocol=="http"&&this.origin.addr.endsWith(":443")&&(this.addrError="443通常是HTTPS协议端口，请确认源站协议选择是否正确。"),this.origin.protocol=="https"&&this.origin.addr.endsWith(":80")&&(this.addrError="80通常是HTTP协议端口，请确认源站协议选择是否正确。")}}const H={key:0},W=t("td",null,[d("密钥ID *"),t("br"),t("em",null,"(Secret Id)")],-1),z=t("p",{class:"comment"},"访问存储桶需要的密钥ID。",-1),q=t("td",null,[d("密钥Key *"),t("br"),t("em",null,"(Secret Key)")],-1),L=t("p",{class:"comment"},"访问存储桶需要的密钥Key。",-1),N=t("td",null,"所属区域代号 *",-1),R={class:"comment"},j={key:1},F=t("td",null,[d("密钥ID *"),t("br"),t("em",null,"(AccessKey Id)")],-1),G=t("p",{class:"comment"},"访问存储空间需要的密钥ID。",-1),J=t("td",null,[d("密钥Key *"),t("br"),t("em",null,"(AccessKey Secret)")],-1),M=t("p",{class:"comment"},"访问存储空间需要的密钥Key。",-1),Q=t("td",null,"地域节点 *",-1),X={class:"comment"},Y={key:2},Z=t("td",null,[d("密钥ID *"),t("br"),t("em",null,"(AccessKey Id)")],-1),tt=t("p",{class:"comment"},"访问存储桶需要的密钥ID。",-1),ot=t("td",null,[d("密钥Key *"),t("br"),t("em",null,"(AccessKey Secret)")],-1),et=t("p",{class:"comment"},"访问存储桶需要的密钥Key。",-1),lt=t("td",null,"区域Endpoint *",-1),nt=t("span",null,"https://",-1),st={class:"comment"},it={key:3},dt=t("td",null,"Access Key *",-1),ut=t("p",{class:"comment"},"访问Bucket需要的Access Key。",-1),at=t("td",null,"Secret Key *",-1),rt=t("p",{class:"comment"},"访问存储桶需要的Secret Key。",-1),mt=t("td",null,"区域Endpoint *",-1),ct=t("span",null,"https://",-1),pt={class:"comment"},gt={key:4},yt=t("td",null,[d("AccessKey *"),t("br"),t("em",null,"(AccessKey)")],-1),ht=t("p",{class:"comment"},"访问存储空间需要的密钥ID。",-1),xt=t("td",null,[d("SecretKey *"),t("br"),t("em",null,"(SecretKey)")],-1),ft=t("p",{class:"comment"},"访问存储空间需要的密钥Key。",-1),Vt=t("td",null,"域名",-1),St={class:"ui fields inline"},Kt={class:"ui field"},_t={class:"ui field"},bt=t("td",null,"访问控制",-1),vt={key:5},wt=t("td",null,[d("密钥ID *"),t("br"),t("em",null,"(AK)")],-1),$t=t("p",{class:"comment"},"访问存储桶需要的密钥ID。",-1),Pt=t("td",null,[d("密钥Key *"),t("br"),t("em",null,"(SK)")],-1),Ut=t("p",{class:"comment"},"访问存储桶需要的密钥Key。",-1),It=t("td",null,[d("区域代号 *"),t("br"),t("em",null,"(Region)")],-1),Tt={class:"comment"},kt={key:0},Ot=t("p",{class:"comment"},"Endpoint域名，只有非AWS应用时才需要填写。",-1),At=t("td",null,"Endpoint中存储桶访问样式",-1),Et={__name:"updatePopup_oss",props:["ctx"],setup(l){return(n,i)=>(m(),c(K,null,[l.ctx.origin.protocol=="oss:tencentCOS"?(m(),c("tbody",H,[t("tr",null,[W,t("td",null,[e(r,{type:"text",name:"tencentCOSSecretId",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.secretId,"onUpdate:modelValue":i[0]||(i[0]=o=>l.ctx.origin.oss.options.secretId=o)},null,8,["modelValue"]),z])]),t("tr",null,[q,t("td",null,[e(r,{type:"text",name:"tencentCOSSecretKey",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.secretKey,"onUpdate:modelValue":i[1]||(i[1]=o=>l.ctx.origin.oss.options.secretKey=o)},null,8,["modelValue"]),L])]),t("tr",null,[N,t("td",null,[e(r,{type:"text",name:"tencentCOSRegion",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.region,"onUpdate:modelValue":i[2]||(i[2]=o=>l.ctx.origin.oss.options.region=o)},null,8,["modelValue"]),t("p",R,[d("COS服务所属区域代号，类似于 "),e(V,null,{default:u(()=>[d("ap-beijing")]),_:1}),d(" 。 ")])])])])):p("",!0),l.ctx.origin.protocol=="oss:aliyunOSS"?(m(),c("tbody",j,[t("tr",null,[F,t("td",null,[e(r,{type:"text",name:"aliyunOSSAccessKeyId",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKeyId,"onUpdate:modelValue":i[3]||(i[3]=o=>l.ctx.origin.oss.options.accessKeyId=o)},null,8,["modelValue"]),G])]),t("tr",null,[J,t("td",null,[e(r,{type:"text",name:"aliyunOSSAccessKeySecret",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKeySecret,"onUpdate:modelValue":i[4]||(i[4]=o=>l.ctx.origin.oss.options.accessKeySecret=o)},null,8,["modelValue"]),M])]),t("tr",null,[Q,t("td",null,[e(r,{type:"text",name:"aliyunOSSEndpoint",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.endpoint,"onUpdate:modelValue":i[5]||(i[5]=o=>l.ctx.origin.oss.options.endpoint=o)},null,8,["modelValue"]),t("p",X,[d("地域节点域名（Endpoint），类似于 "),e(V,null,{default:u(()=>[d("oss-cn-shanghai.aliyuncs.com")]),_:1}),d(" 。 ")])])])])):p("",!0),l.ctx.origin.protocol=="oss:huaweiOBS"?(m(),c("tbody",Y,[t("tr",null,[Z,t("td",null,[e(r,{type:"text",name:"huaweiOBSAccessKeyId",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKeyId,"onUpdate:modelValue":i[6]||(i[6]=o=>l.ctx.origin.oss.options.accessKeyId=o)},null,8,["modelValue"]),tt])]),t("tr",null,[ot,t("td",null,[e(r,{type:"text",name:"huaweiOBSAccessKeySecret",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKeySecret,"onUpdate:modelValue":i[7]||(i[7]=o=>l.ctx.origin.oss.options.accessKeySecret=o)},null,8,["modelValue"]),et])]),t("tr",null,[lt,t("td",null,[e(v,null,{default:u(()=>[e(b,null,{default:u(()=>[nt]),_:1}),e(r,{type:"text",name:"huaweiOBSEndpoint",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.endpoint,"onUpdate:modelValue":i[8]||(i[8]=o=>l.ctx.origin.oss.options.endpoint=o)},null,8,["modelValue"])]),_:1}),t("p",st,[d("区域Endpoint域名，类似于 "),e(V,null,{default:u(()=>[d("obs.cn-north-4.myhuaweicloud.com")]),_:1}),d(" 。 ")])])])])):p("",!0),l.ctx.origin.protocol=="oss:baiduBOS"?(m(),c("tbody",it,[t("tr",null,[dt,t("td",null,[e(r,{type:"text",name:"baiduBOSAccessKey",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKey,"onUpdate:modelValue":i[9]||(i[9]=o=>l.ctx.origin.oss.options.accessKey=o)},null,8,["modelValue"]),ut])]),t("tr",null,[at,t("td",null,[e(r,{type:"text",name:"baiduBOSSecretKey",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.secretKey,"onUpdate:modelValue":i[10]||(i[10]=o=>l.ctx.origin.oss.options.secretKey=o)},null,8,["modelValue"]),rt])]),t("tr",null,[mt,t("td",null,[e(v,null,{default:u(()=>[e(b,null,{default:u(()=>[ct]),_:1}),e(r,{type:"text",name:"baiduBOSEndpoint",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.endpoint,"onUpdate:modelValue":i[11]||(i[11]=o=>l.ctx.origin.oss.options.endpoint=o)},null,8,["modelValue"])]),_:1}),t("p",pt,[d("区域Endpoint域名，类似于 "),e(V,null,{default:u(()=>[d("bj.bcebos.com")]),_:1}),d(" 。 ")])])])])):p("",!0),l.ctx.origin.protocol=="oss:qiniuKodo"?(m(),c("tbody",gt,[t("tr",null,[yt,t("td",null,[e(r,{type:"text",name:"qiniuKodoAccessKey",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKey,"onUpdate:modelValue":i[12]||(i[12]=o=>l.ctx.origin.oss.options.accessKey=o)},null,8,["modelValue"]),ht])]),t("tr",null,[xt,t("td",null,[e(r,{type:"text",name:"qiniuKodoSecretKey",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.secretKey,"onUpdate:modelValue":i[13]||(i[13]=o=>l.ctx.origin.oss.options.secretKey=o)},null,8,["modelValue"]),ft])]),t("tr",null,[Vt,t("td",null,[t("div",St,[t("div",Kt,[e(h,{name:"qiniuKodoProtocol",modelValue:l.ctx.origin.oss.options.protocol,"onUpdate:modelValue":i[14]||(i[14]=o=>l.ctx.origin.oss.options.protocol=o)},{default:u(()=>[e(g,{value:"http"},{default:u(()=>[d("http://")]),_:1}),e(g,{value:"https"},{default:u(()=>[d("https://")]),_:1})]),_:1},8,["modelValue"])]),t("div",_t,[e(r,{type:"text",name:"qiniuKodoDomain",modelValue:l.ctx.origin.oss.options.domain,"onUpdate:modelValue":i[15]||(i[15]=o=>l.ctx.origin.oss.options.domain=o),style:{width:"20em"}},null,8,["modelValue"])])])])]),t("tr",null,[bt,t("td",null,[e(h,{name:"qiniuKodoIsPublic",modelValue:l.ctx.origin.oss.options.isPublic,"onUpdate:modelValue":i[16]||(i[16]=o=>l.ctx.origin.oss.options.isPublic=o)},{default:u(()=>[e(g,{value:!1},{default:u(()=>[d("私有")]),_:1}),e(g,{value:!0},{default:u(()=>[d("公开")]),_:1})]),_:1},8,["modelValue"])])])])):p("",!0),l.ctx.origin.protocol=="oss:amazonS3"||l.ctx.origin.protocol=="oss:b2"?(m(),c("tbody",vt,[t("tr",null,[wt,t("td",null,[e(r,{type:"text",name:"amazonS3AccessKeyId",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKeyId,"onUpdate:modelValue":i[17]||(i[17]=o=>l.ctx.origin.oss.options.accessKeyId=o)},null,8,["modelValue"]),$t])]),t("tr",null,[Pt,t("td",null,[e(r,{type:"text",name:"amazonS3AccessKeySecret",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.accessKeySecret,"onUpdate:modelValue":i[18]||(i[18]=o=>l.ctx.origin.oss.options.accessKeySecret=o)},null,8,["modelValue"]),Ut])]),t("tr",null,[It,t("td",null,[e(r,{type:"text",name:"amazonS3Region",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.region,"onUpdate:modelValue":i[19]||(i[19]=o=>l.ctx.origin.oss.options.region=o)},null,8,["modelValue"]),t("p",Tt,[d("所属区域代号，类似于 "),e(V,null,{default:u(()=>[d("us-east-2")]),_:1}),d(" 。 ")])])]),t("tr",null,[t("td",null,[d("Endpoint"),l.ctx.origin.protocol!="oss:amazonS3"?(m(),c("span",kt,"*")):p("",!0)]),t("td",null,[e(r,{type:"text",name:"amazonS3Endpoint",maxlength:"100",class:"w-full",modelValue:l.ctx.origin.oss.options.endpoint,"onUpdate:modelValue":i[20]||(i[20]=o=>l.ctx.origin.oss.options.endpoint=o)},null,8,["modelValue"]),Ot])]),t("tr",null,[At,t("td",null,[e(h,{name:"bucketAddressStyle",modelValue:l.ctx.origin.oss.options.bucketAddressStyle,"onUpdate:modelValue":i[21]||(i[21]=o=>l.ctx.origin.oss.options.bucketAddressStyle=o)},{default:u(()=>[e(g,{value:"path"},{default:u(()=>[d("路径")]),_:1}),e(g,{value:"domain"},{default:u(()=>[d("子域名")]),_:1})]),_:1},8,["modelValue"])])])])):p("",!0),(m(!0),c(K,null,w(l.ctx.ossTypes,o=>(m(),c(K,null,[l.ctx.origin.protocol==o.code?(m(),y(I,{key:0,"v-params":l.ctx.ossBucketParams,name:o.bucketOptionName,"v-oss-config":l.ctx.origin.oss},null,8,["v-params","name","v-oss-config"])):p("",!0)],64))),256))],64))}},Ct=t("header",null,"修改源站",-1),Dt=["value"],Bt=["value"],Ht=["value"],Wt=t("td",{class:"title"},"源站协议",-1),zt={key:0,label:"对象存储"},qt=t("td",{class:"title"},"源站地址",-1),Lt={class:"comment"},Nt={key:0,class:"red"},Rt={key:1},jt={key:0},Ft=t("td",null,"回源主机名",-1),Gt={class:"comment"},Jt={key:0},Mt={colspan:"2"},Qt={key:0},Xt=t("td",null,"专属域名",-1),Yt=t("p",{class:"comment"},"默认不需要填写，表示支持所有域名。如果填写了专属域名，表示这些源站只会在所列的专属域名被访问时才生效。",-1),Zt=t("td",null,"端口跟随",-1),to=t("p",{class:"comment"},"选中后表示源站的端口保持和用户访问的网站端口保持一致；此时的源站地址中的端口号可以任意填写。",-1),oo=t("td",null,"支持HTTP/2",-1),eo=t("p",{class:"comment"},"选中后，表示源站支持HTTP/2协议。",-1),lo=t("td",null,"权重",-1),no=t("p",{class:"comment"},"数字越大，代表分配的请求比例越多。",-1),so=t("td",null,"名称",-1),io=t("p",{class:"comment"},"给当前源站起一个容易识别的名称。",-1),uo=t("td",null,"备注",-1),ao=t("td",null,"启用当前源站",-1),qo={__name:"updatePopup",setup(l){const n=U(new B);return(i,o)=>(m(),y($,null,{default:u(()=>[Ct,e(T,{action:"$",onSuccess:s(n).success},{default:u(()=>[t("input",{type:"hidden",name:"reverseProxyId",value:s(n).reverseProxyId},null,8,Dt),t("input",{type:"hidden",name:"originType",value:s(n).originType},null,8,Bt),t("input",{type:"hidden",name:"originId",value:s(n).originId},null,8,Ht),e(D,null,{default:u(()=>[t("tbody",null,[t("tr",null,[Wt,t("td",null,[s(n).serverType=="httpProxy"||s(n).serverType=="httpWeb"?(m(),y(h,{key:0,name:"protocol",modelValue:s(n).origin.protocol,"onUpdate:modelValue":o[0]||(o[0]=a=>s(n).origin.protocol=a),onChange:s(n).changeProtocol},{default:u(()=>[e(g,{value:"http"},{default:u(()=>[d("HTTP")]),_:1}),e(g,{value:"https"},{default:u(()=>[d("HTTPS")]),_:1}),s(n).ossTypes.length>0?(m(),c("optgroup",zt)):p("",!0),(m(!0),c(K,null,w(s(n).ossTypes,a=>(m(),y(g,{value:a.code},{default:u(()=>[d(S(a.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue","onChange"])):p("",!0),s(n).serverType=="tcpProxy"?(m(),y(h,{key:1,name:"protocol",modelValue:s(n).origin.protocol,"onUpdate:modelValue":o[1]||(o[1]=a=>s(n).origin.protocol=a)},{default:u(()=>[e(g,{value:"tcp"},{default:u(()=>[d("TCP")]),_:1}),e(g,{value:"tls"},{default:u(()=>[d("TLS")]),_:1})]),_:1},8,["modelValue"])):p("",!0),s(n).serverType=="udpProxy"?(m(),y(h,{key:2,name:"protocol",modelValue:s(n).origin.protocol,"onUpdate:modelValue":o[2]||(o[2]=a=>s(n).origin.protocol=a)},{default:u(()=>[e(g,{value:"udp"},{default:u(()=>[d("UDP")]),_:1})]),_:1},8,["modelValue"])):p("",!0)])]),x(t("tr",null,[qt,t("td",null,[e(v,null,{default:u(()=>[e(b,null,{default:u(()=>[t("span",null,S(s(n).origin.protocol.toLowerCase())+"://",1)]),_:1}),e(r,{name:"addr",autofocus:"",modelValue:s(n).origin.addr,"onUpdate:modelValue":o[3]||(o[3]=a=>s(n).origin.addr=a),onInput:s(n).changeAddr,class:"w-full"},null,8,["modelValue","onInput"])]),_:1}),t("p",Lt,[s(n).addrError.length>0?(m(),c("span",Nt,S(s(n).addrError),1)):p("",!0),d("源站服务器地址，通常是一个IP（或域名）加端口，80和443端口可以省略"),s(n).serverType=="httpProxy"?(m(),c("span",Rt,"，不需要加 http:// 或 https://")):p("",!0),d("。 ")])])],512),[[f,!s(n).isOSS]]),(s(n).isHTTP||s(n).origin.protocol=="tls")&&!s(n).isOSS?(m(),c("tr",jt,[Ft,t("td",null,[e(r,{name:"host",modelValue:s(n).origin.host,"onUpdate:modelValue":o[4]||(o[4]=a=>s(n).origin.host=a),placeholder:"比如example.com",maxlength:"100",class:"w-full"},null,8,["modelValue"]),t("p",Gt,[d("可选项。请求源站时的Host，用于设置访问源站的站点域名"),s(n).isHTTP?(m(),c("span",Jt,"，自定义Host内容中支持请求变量")):p("",!0),d("；如果用户实际访问的域名和源站域名不一致，请务必设置为源站域名。 ")])])])):p("",!0)]),e(Et,{ctx:s(n)},null,8,["ctx"]),t("tbody",null,[t("tr",null,[t("td",Mt,[e(k)])])]),x(t("tbody",null,[s(n).origin.protocol=="https"||s(n).origin.protocol=="tls"?(m(),c("tr",Qt,[t("td",null,S(s(n).origin.protocol.toUpperCase())+"证书",1),t("td",null,[e(O,{"v-single-mode":!0,"v-cert":s(n).origin.cert,"v-view-size":"mini","v-description":"可以选择连接源站使用的证书；除非源站有特殊需求，否则不需要添加。"},null,8,["v-cert"])])])):p("",!0),x(t("tr",null,[Xt,t("td",null,[e(A,{"v-domains":s(n).origin.domains},null,8,["v-domains"]),Yt])],512),[[f,s(n).origin.protocol!="udp"]]),x(t("tr",null,[Zt,t("td",null,[e(_,{name:"followPort",modelValue:s(n).origin.followPort,"onUpdate:modelValue":o[5]||(o[5]=a=>s(n).origin.followPort=a)},null,8,["modelValue"]),to])],512),[[f,!s(n).isOSS]]),x(t("tr",null,[oo,t("td",null,[e(_,{name:"http2Enabled",modelValue:s(n).origin.http2Enabled,"onUpdate:modelValue":o[6]||(o[6]=a=>s(n).origin.http2Enabled=a)},null,8,["modelValue"]),eo])],512),[[f,!s(n).isOSS&&s(n).origin.protocol=="https"]]),t("tr",null,[lo,t("td",null,[e(r,{name:"weight",maxlength:"4",modelValue:s(n).origin.weight,"onUpdate:modelValue":o[7]||(o[7]=a=>s(n).origin.weight=a),style:{width:"5em"}},null,8,["modelValue"]),no])]),t("tr",null,[so,t("td",null,[e(r,{name:"name",maxlength:"100",modelValue:s(n).origin.name,"onUpdate:modelValue":o[8]||(o[8]=a=>s(n).origin.name=a),class:"w-full"},null,8,["modelValue"]),io])]),t("tr",null,[uo,t("td",null,[e(E,{name:"description",rows:"3",maxlength:"100",modelValue:s(n).origin.description,"onUpdate:modelValue":o[9]||(o[9]=a=>s(n).origin.description=a),class:"w-full"},null,8,["modelValue"])])]),t("tr",null,[ao,t("td",null,[e(_,{name:"isOn",modelValue:s(n).origin.isOn,"onUpdate:modelValue":o[10]||(o[10]=a=>s(n).origin.isOn=a)},null,8,["modelValue"])])])],512),[[f,s(n).moreOptionsVisible]])]),_:1}),e(C)]),_:1},8,["onSuccess"])]),_:1}))}};export{qo as default};
