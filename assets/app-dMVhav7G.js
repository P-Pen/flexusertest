import{r as T,o as m,c as f,w as l,b as n,a as t,u as s,g as y,t as _,i as w,h as g,D as b,f as p,F as A,d as u,e as d}from"./app-BYx064nO.js";import{P as k}from"./app-BnDFQ2zy.js";import{i as I,c as S}from"./app-DISTCiac.js";import{_ as x,a as h}from"./app-BuHt2kYS.js";import{_ as o}from"./app-C5GVF480.js";import{_ as D}from"./app-_N2IGwgj.js";import{_ as C}from"./app-DfipPP5d.js";import{_ as R}from"./app-57xpzLDR.js";import{_ as P}from"./app-CeP-fiGF.js";import{T as V,a as $}from"./app-DRGtcCVV.js";import{T as z}from"./app-BXiLqtxA.js";import{D as L}from"./app-D0jdtzyy.js";import"./app-GoR2fTOd.js";import"./app-51hQc1Cd.js";import"./app-CqAVEB_b.js";import"./app-CK9Tk_hc.js";import"./app-Cqxz9tud.js";import"./app-DoRtcMJm.js";import"./app-aIb4ksxL.js";import"./app-DYkSpHuE.js";import"./app-DyIe33QU.js";import"./app-DR284fT9.js";import"./app-DNadG4GC.js";import"./app-DPMEyUYH.js";import"./app-TBcc1obG.js";import"./app-CqvvE0jO.js";import"./app-CAeEyuA3.js";function M(){I(this),this.type="A",this.typeDescription="",this.changeType=function(){let r=this;this.types.forEach(function(c){c.type==r.type&&(r.typeDescription=c.description)})},this.changeType(),this.addingType="one",this.$delay(function(){this.$refs.nameInput.focus()}),this.setAddingType=function(r){this.addingType=r,this.$delay(function(){switch(r){case"one":this.$refs.nameInput.focus();break;case"batch":this.$refs.namesInput.focus();break}})}}const B=t("header",null,"创建记录",-1),N=["value"],q=["value"],F=t("td",{class:"title"},"记录名",-1),E={key:0},G={class:"comment"},U={key:1},X={class:"comment"},W=t("td",null,"记录类型",-1),j={class:"comment"},H=t("td",null,"记录值 *",-1),J=t("td",{class:"color-border"},"MX优先级",-1),K=t("p",{class:"comment"},"数字越小越优先，最高为0。",-1),O=t("td",{class:"color-border"},"SRV端口 *",-1),Q=t("td",{class:"color-border"},"SRV优先级",-1),Y=t("td",{class:"color-border"},"SRV权重",-1),Z=t("td",{class:"color-border"},"CAA等级",-1),tt=t("p",{class:"comment"},"取值在0到128之间。",-1),et=t("td",{class:"color-border"},"CAA标签",-1),nt=t("td",null,"TTL",-1),st=t("span",null,"秒",-1),lt=t("td",null,"线路",-1),ot=t("td",null,"权重",-1),at=t("p",{class:"comment"},"不大于0的权重将当做10处理。",-1),it=t("td",null,"备注",-1),Mt={__name:"createPopup",setup(r){const c=T(),v=T(),e=S(new M,{refs:{nameInput:c,namesInput:v}});return(ut,a)=>(m(),f(k,null,{default:l(()=>[B,n(D,{action:"$",onSuccess:s(e).success},{default:l(()=>[t("input",{type:"hidden",name:"domainId",value:s(e).domain.id},null,8,N),t("input",{type:"hidden",name:"addingType",value:s(e).addingType},null,8,q),n(L,null,{default:l(()=>[t("tbody",null,[t("tr",null,[F,t("td",null,[s(e).addingType=="one"?(m(),y("div",E,[n(V,null,{default:l(()=>[n(o,{name:"name",ref_key:"nameInput",ref:c,style:{width:"16em"},autofocus:""},null,512),n($,null,{default:l(()=>[t("span",null,"."+_(s(e).domain.name),1)]),_:1})]),_:1}),t("p",G,[t("a",{href:"",onClick:a[0]||(a[0]=w(i=>s(e).setAddingType("batch"),["prevent"]))},"[批量添加]")])])):g("",!0),s(e).addingType=="batch"?(m(),y("div",U,[n(C,{name:"names",rows:"10",placeholder:"每行一个，不需要加顶级域名",ref_key:"namesInput",ref:v,class:"w-full"},null,512),t("p",X,[t("a",{href:"",onClick:a[1]||(a[1]=w(i=>s(e).setAddingType("one"),["prevent"]))},"[单个添加]")])])):g("",!0)])]),t("tr",null,[W,t("td",null,[n(x,{name:"type",modelValue:s(e).type,"onUpdate:modelValue":a[2]||(a[2]=i=>s(e).type=i),onChange:s(e).changeType},{default:l(()=>[(m(!0),y(A,null,b(s(e).types,i=>(m(),f(h,{value:i.type},{default:l(()=>[p(_(i.type),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue","onChange"]),t("p",j,_(s(e).typeDescription),1)])]),t("tr",null,[H,t("td",null,[n(o,{name:"value",maxlength:"512",class:"w-full"})])]),u(t("tr",null,[J,t("td",null,[n(o,{name:"mxPriority",value:"10",maxlength:"5",size:"5",style:{width:"6em"}}),K])],512),[[d,s(e).type=="MX"]]),u(t("tr",null,[O,t("td",null,[n(o,{name:"srvPort",value:"",maxlength:"5",size:"5",style:{width:"6em"}})])],512),[[d,s(e).type=="SRV"]]),u(t("tr",null,[Q,t("td",null,[n(o,{name:"srvPriority",value:"10",maxlength:"5",size:"5",style:{width:"6em"}})])],512),[[d,s(e).type=="SRV"]]),u(t("tr",null,[Y,t("td",null,[n(o,{name:"srvWeight",value:"10",maxlength:"5",size:"5",style:{width:"6em"}})])],512),[[d,s(e).type=="SRV"]]),u(t("tr",null,[Z,t("td",null,[n(o,{name:"caaFlag",value:"0",maxlength:"3",size:"5",style:{width:"4em"}}),tt])],512),[[d,s(e).type=="CAA"]]),u(t("tr",null,[et,t("td",null,[n(x,{name:"caaTag"},{default:l(()=>[n(h,{value:"issue"},{default:l(()=>[p("issue")]),_:1}),n(h,{value:"issuewild"},{default:l(()=>[p("issuewild")]),_:1}),n(h,{value:"iodef"},{default:l(()=>[p("iodef")]),_:1})]),_:1})])],512),[[d,s(e).type=="CAA"]]),t("tr",null,[nt,t("td",null,[n(V,null,{default:l(()=>[n(o,{name:"ttl",maxlength:"10",style:{width:"6em"},modelValue:s(e).defaultTTL,"onUpdate:modelValue":a[3]||(a[3]=i=>s(e).defaultTTL=i)},null,8,["modelValue"]),n($,null,{default:l(()=>[st]),_:1})]),_:1})])]),t("tr",null,[lt,t("td",null,[n(P)])]),t("tr",null,[ot,t("td",null,[n(o,{name:"weight",style:{width:"6em"},maxlength:"6",value:"0"}),at])]),t("tr",null,[it,t("td",null,[n(C,{rows:"2",name:"description",class:"w-full",maxlength:"100"})])])])]),_:1}),u(n(R,null,null,512),[[d,s(e).quotaCanCreate]]),s(e).quotaCanCreate?g("",!0):(m(),f(z,{key:0,error:""},{default:l(()=>[p("当前域名记录数已超出限额（每个域名最多"+_(s(e).quotaMaxRecords)+"个记录数）， 请升级套餐后重试。",1)]),_:1}))]),_:1},8,["onSuccess"])]),_:1}))}};export{Mt as default};
