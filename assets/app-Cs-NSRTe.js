import{o,c as s,w as e,a as n,b as a,u as r,s as m}from"./app-BYx064nO.js";import{i as c,c as h}from"./app-DISTCiac.js";import{m as l,_ as p}from"./app-U7NTZdhy.js";import{_ as d}from"./app-BrGqE0oU.js";import"./app-CqkleIqs.js";import"./app-Bx8FsPui.js";import"./app-aIb4ksxL.js";import"./app--BlRpVz_.js";import"./app-tUtHmy3n.js";import"./app-CK9Tk_hc.js";import"./app-DR284fT9.js";import"./app-_N2IGwgj.js";import"./app-C5GVF480.js";import"./app-DYkSpHuE.js";import"./app-CAeEyuA3.js";import"./app-DoRtcMJm.js";import"./app-DPMEyUYH.js";import"./app-CBq6-G9z.js";import"./app-DfQH6JJo.js";import"./app-DzOFJRH2.js";function f(){c(this),this.encodedFrom=window.encodeURIComponent(this.from),this.showOTP=!1,this.isSubmitting=!1,this.$delay(function(){this.changePassword()}),this.usernamePlaceholder="请输入用户名";var t=[];this.emailCanLogin&&t.push("邮箱"),this.mobileCanLogin&&t.push("手机号码"),t.length>0&&(this.usernamePlaceholder+="/"+t.join("/")),this.changeUsername=function(){},this.changePassword=function(){this.passwordMd5=l(this.password.trim())},this.moreOptionsVisible=!1,this.showMoreOptions=function(){this.moreOptionsVisible=!this.moreOptionsVisible},this.submitBefore=function(){this.isSubmitting=!0},this.submitDone=function(){this.isSubmitting=!1},this.submitSuccess=function(i){localStorage.setItem("sid",i.data.localSid),localStorage.setItem("ip",i.data.ip),this.$delay(function(){if(i.data.requireOTP){window.location="/login/otp?sid="+i.data.sid+"&remember="+(i.data.remember?1:0)+"&from="+window.encodeURIComponent(this.from);return}this.from.length==0?window.location="/dashboard":window.location=this.from})}}const u={class:"form-box"},w={__name:"index",setup(t){const i=h(new f);return(_,b)=>(o(),s(d,null,{default:e(()=>[n("div",u,[a(p,{ctx:r(i)},null,8,["ctx"])])]),_:1}))}};m({app:w,useRouter:!1});
