import{o as y,c as f,w as o,b as n,a as t,u as l,f as i,g as P,D as w,t as R,F as b,d as p,e as r,i as c,n as v,L as A}from"./app-BYx064nO.js";import{P as N}from"./app-BnDFQ2zy.js";import{i as U,c as L}from"./app-DISTCiac.js";import{_ as $}from"./app-57xpzLDR.js";import{_ as C}from"./app-CbPWpFKs.js";import{_ as B}from"./app-CryyhHYs.js";import{C as g}from"./app-IrmNFWm4.js";import{_ as q}from"./app-_N2IGwgj.js";import{_ as u}from"./app-C5GVF480.js";import{_ as S,a as d}from"./app-BuHt2kYS.js";import{T as h,a as _}from"./app-DRGtcCVV.js";import{_ as D}from"./app-e1i_B4SR.js";import{_ as O}from"./app-1SA4suwN.js";import{_ as F}from"./app-Blp_4b-h.js";import{D as k}from"./app-D0jdtzyy.js";import{_ as V}from"./app-x_fVWXrx.js";import{_ as x}from"./app-Bg2kbTeB.js";import"./app-GoR2fTOd.js";import"./app-DR284fT9.js";import"./app-DfipPP5d.js";import"./app-DNadG4GC.js";import"./app-DPMEyUYH.js";import"./app-TBcc1obG.js";import"./app-DYkSpHuE.js";import"./app-51hQc1Cd.js";import"./app-CqAVEB_b.js";import"./app-CK9Tk_hc.js";import"./app-Cqxz9tud.js";import"./app-DoRtcMJm.js";import"./app-aIb4ksxL.js";import"./app-DyIe33QU.js";import"./app-DGM5HqRo.js";function I(){U(this),this.success=this.$NotifyPopup,this.type="",this.authDescription="",this.rawDescription="",this.changeType=function(){let m=this,e=this.authTypes.$find(function(T,s){return s.code==m.type});e!=null?(this.authDescription=e.description,this.rawDescription=e.description):(this.authDescription="",this.rawDescription="")},this.typeASecret="",this.typeASignParamName="sign",this.generateTypeASecret=function(){this.$post(".random").success(function(m){this.typeASecret=m.data.random})},this.changeTypeASignParamName=function(){this.authDescription=this.rawDescription.replace("sign=",this.typeASignParamName+"=")},this.typeBSecret="",this.generateTypeBSecret=function(){this.$post(".random").success(function(m){this.typeBSecret=m.data.random})},this.typeCSecret="",this.generateTypeCSecret=function(){this.$post(".random").success(function(m){this.typeCSecret=m.data.random})},this.typeDSecret="",this.typeDSignParamName="sign",this.typeDTimestampParamName="t",this.generateTypeDSecret=function(){this.$post(".random").success(function(m){this.typeDSecret=m.data.random})},this.changeTypeDSignParamName=function(){this.authDescription=this.rawDescription.replace("sign=",this.typeDSignParamName+"="),this.authDescription=this.authDescription.replace("t=",this.typeDTimestampParamName+"=")},this.changeTypeDTimestampParamName=function(){this.authDescription=this.rawDescription.replace("sign=",this.typeDSignParamName+"="),this.authDescription=this.authDescription.replace("t=",this.typeDTimestampParamName+"=")},this.moreBasicAuthOptionsVisible=!1,this.showMoreBasicAuthOptions=function(){this.moreBasicAuthOptionsVisible=!this.moreBasicAuthOptionsVisible},this.subRequestFollowRequest=1}const M=t("header",null,"创建鉴权方式",-1),E=["value"],G=["value"],H=t("td",{class:"title"},"名称 *",-1),J=t("td",null,"鉴权类型 *",-1),z=["innerHTML"],j=t("td",null,"鉴权密钥 *",-1),K={class:"comment"},Q=t("td",null,"签名参数 *",-1),W=t("td",null,"有效时间",-1),X=t("span",null,"秒",-1),Y=t("p",{class:"comment"},"链接有效时间。",-1),Z=t("td",null,"鉴权密钥 *",-1),tt={class:"comment"},et=t("td",null,"有效时间",-1),lt=t("span",null,"秒",-1),nt=t("p",{class:"comment"},"链接有效时间。",-1),st=t("td",null,"鉴权密钥 *",-1),at={class:"comment"},ot=t("td",null,"有效时间",-1),it=t("span",null,"秒",-1),ut=t("p",{class:"comment"},"链接有效时间。",-1),mt=t("td",null,"鉴权密钥 *",-1),pt={class:"comment"},rt=t("td",null,"签名参数 *",-1),dt=t("td",null,"时间戳参数 *",-1),ct=t("td",null,"有效时间",-1),ht=t("span",null,"秒",-1),_t=t("p",{class:"comment"},"链接有效时间。",-1),yt=t("td",null,"用户 *",-1),ft={colspan:"2"},gt=t("td",null,[i("认证领域名"),t("em",null,"（Realm）")],-1),St=t("td",null,"字符集",-1),Dt={class:"comment"},Vt=t("td",null,"子请求URL *",-1),xt=t("p",{class:"comment"},"可以是一个完整的URL，也可以是一个路径。",-1),Tt=t("td",null,"请求方法",-1),Pt={style:{"margin-top":"0.8em"}},wt={colspan:"2"},Rt=t("td",null,"限定文件扩展名",-1),bt={class:"comment"},vt=t("td",null,"限定域名",-1),At=t("p",{class:"comment"},"如果不为空，则表示只有这些域名的文件才需要鉴权。",-1),ue={__name:"createPopup",setup(m){const e=L(new I);return(T,s)=>(y(),f(N,null,{default:o(()=>[M,n(q,{action:"$",onSuccess:l(e).success},{default:o(()=>[t("input",{type:"hidden",name:"exceptURLPatternsJSON",value:JSON.stringify(l(e).exceptURLPatterns)},null,8,E),t("input",{type:"hidden",name:"onlyURLPatternsJSON",value:JSON.stringify(l(e).onlyURLPatterns)},null,8,G),n(k,null,{default:o(()=>[t("tbody",null,[t("tr",null,[H,t("td",null,[n(u,{type:"text",name:"name",maxlength:"50",class:"w-full",autofocus:""})])]),t("tr",null,[J,t("td",null,[n(S,{name:"type",modelValue:l(e).type,"onUpdate:modelValue":s[0]||(s[0]=a=>l(e).type=a),onChange:l(e).changeType},{default:o(()=>[n(d,{value:""},{default:o(()=>[i("[鉴权类型]")]),_:1}),(y(!0),P(b,null,w(l(e).authTypes,a=>(y(),f(d,{value:a.code},{default:o(()=>[i(R(a.name),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue","onChange"]),t("p",{class:"comment",innerHTML:l(e).authDescription},null,8,z)])])]),p(t("tbody",null,[t("tr",null,[j,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeASecret",modelValue:l(e).typeASecret,"onUpdate:modelValue":s[1]||(s[1]=a=>l(e).typeASecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",K,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[2]||(s[2]=c(a=>l(e).generateTypeASecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[Q,t("td",null,[n(u,{type:"text",maxlength:"30",name:"typeASignParamName",value:"sign",modelValue:l(e).typeASignParamName,"onUpdate:modelValue":s[3]||(s[3]=a=>l(e).typeASignParamName=a),onInput:l(e).changeTypeASignParamName,class:"w-full"},null,8,["modelValue","onInput"])])]),t("tr",null,[W,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeALife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[X]),_:1})]),_:1}),Y])])],512),[[r,l(e).type=="typeA"]]),p(t("tbody",null,[t("tr",null,[Z,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeBSecret",modelValue:l(e).typeBSecret,"onUpdate:modelValue":s[4]||(s[4]=a=>l(e).typeBSecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",tt,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[5]||(s[5]=c(a=>l(e).generateTypeBSecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[et,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeBLife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[lt]),_:1})]),_:1}),nt])])],512),[[r,l(e).type=="typeB"]]),p(t("tbody",null,[t("tr",null,[st,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeCSecret",modelValue:l(e).typeCSecret,"onUpdate:modelValue":s[6]||(s[6]=a=>l(e).typeCSecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",at,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[7]||(s[7]=c(a=>l(e).generateTypeCSecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[ot,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeCLife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[it]),_:1})]),_:1}),ut])])],512),[[r,l(e).type=="typeC"]]),p(t("tbody",null,[t("tr",null,[mt,t("td",null,[n(u,{type:"text",maxlength:"40",name:"typeDSecret",modelValue:l(e).typeDSecret,"onUpdate:modelValue":s[8]||(s[8]=a=>l(e).typeDSecret=a),autocomplete:"off",class:"w-full"},null,8,["modelValue"]),t("p",pt,[i("只能包含字母、数字，长度不超过40。"),t("a",{href:"",onClick:s[9]||(s[9]=c(a=>l(e).generateTypeDSecret(),["prevent"]))},"[随机生成]")])])]),t("tr",null,[rt,t("td",null,[n(u,{type:"text",maxlength:"30",name:"typeDSignParamName",value:"sign",modelValue:l(e).typeDSignParamName,"onUpdate:modelValue":s[10]||(s[10]=a=>l(e).typeDSignParamName=a),onInput:l(e).changeTypeDSignParamName,class:"w-full"},null,8,["modelValue","onInput"])])]),t("tr",null,[dt,t("td",null,[n(u,{type:"text",maxlength:"30",name:"typeDTimestampParamName",value:"t",modelValue:l(e).typeDTimestampParamName,"onUpdate:modelValue":s[11]||(s[11]=a=>l(e).typeDTimestampParamName=a),onInput:l(e).changeTypeDTimestampParamName,class:"w-full"},null,8,["modelValue","onInput"])])]),t("tr",null,[ct,t("td",null,[n(h,null,{default:o(()=>[n(u,{type:"text",maxlength:"8",name:"typeDLife",value:"30",style:{width:"7em"}}),n(_,null,{default:o(()=>[ht]),_:1})]),_:1}),_t])])],512),[[r,l(e).type=="typeD"]]),p(t("tbody",null,[t("tr",null,[yt,t("td",null,[n(F)])]),t("tr",null,[t("td",ft,[t("a",{href:"",onClick:s[12]||(s[12]=c(a=>l(e).showMoreBasicAuthOptions(),["prevent"]))},[i("更多基本认证选项"),t("i",{class:v(["ui icon angle",{up:l(e).moreBasicAuthOptionsVisible,down:!l(e).moreBasicAuthOptionsVisible}])},null,2)])])]),p(t("tr",null,[gt,t("td",null,[n(u,{type:"text",name:"basicAuthRealm",value:"",maxlength:"100",class:"w-full"})])],512),[[r,l(e).moreBasicAuthOptionsVisible]]),p(t("tr",null,[St,t("td",null,[n(u,{type:"text",name:"basicAuthCharset",style:{width:"6em"},maxlength:"50"}),t("p",Dt,[i("类似于 "),n(g,null,{default:o(()=>[i("UTF-8")]),_:1}),i(" 。 ")])])],512),[[r,l(e).moreBasicAuthOptionsVisible]])],512),[[r,l(e).type=="basicAuth"]]),p(t("tbody",null,[t("tr",null,[Vt,t("td",null,[n(u,{type:"text",name:"subRequestURL",maxlength:"1024",class:"w-full"}),xt])]),t("tr",null,[Tt,t("td",null,[n(D,{name:"subRequestFollowRequest",value:1,modelValue:l(e).subRequestFollowRequest,"onUpdate:modelValue":s[13]||(s[13]=a=>l(e).subRequestFollowRequest=a)},{default:o(()=>[i("同当前请求一致")]),_:1},8,["modelValue"]),i("     "),n(D,{name:"subRequestFollowRequest",value:0,modelValue:l(e).subRequestFollowRequest,"onUpdate:modelValue":s[14]||(s[14]=a=>l(e).subRequestFollowRequest=a)},{default:o(()=>[i("自定义")]),_:1},8,["modelValue"]),p(t("div",Pt,[n(A),n(S,{name:"subRequestMethod"},{default:o(()=>[n(d,{value:"POST"},{default:o(()=>[i("POST")]),_:1}),n(d,{value:"GET"},{default:o(()=>[i("GET")]),_:1}),n(d,{value:"PUT"},{default:o(()=>[i("PUT")]),_:1}),n(d,{value:"HEAD"},{default:o(()=>[i("HEAD")]),_:1})]),_:1})],512),[[r,l(e).subRequestFollowRequest==0]])])])],512),[[r,l(e).type=="subRequest"]]),t("tbody",null,[t("tr",null,[t("td",wt,[n(O)])])]),p(t("tbody",null,[t("tr",null,[Rt,t("td",null,[n(B,{name:"exts"}),t("p",bt,[i("如果不为空，则表示只有这些扩展名的文件才需要鉴权；扩展名需要包含点符号（.），比如 "),n(g,null,{default:o(()=>[i(".png")]),_:1})])])]),t("tr",null,[t("td",null,[i("例外URL  "),n(V,{content:"对这些URL将不做任何限制。"})]),t("td",null,[n(x,{modelValue:l(e).exceptURLPatterns,"onUpdate:modelValue":s[15]||(s[15]=a=>l(e).exceptURLPatterns=a)},null,8,["modelValue"])])]),t("tr",null,[t("td",null,[i("限制URL  "),n(V,{content:"只对这些URL做限制。"})]),t("td",null,[n(x,{modelValue:l(e).onlyURLPatterns,"onUpdate:modelValue":s[16]||(s[16]=a=>l(e).onlyURLPatterns=a)},null,8,["modelValue"])])]),t("tr",null,[vt,t("td",null,[n(C),At])])],512),[[r,l(e).moreOptionsVisible]])]),_:1}),n($)]),_:1},8,["onSuccess"])]),_:1}))}};export{ue as default};
